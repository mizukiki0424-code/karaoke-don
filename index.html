<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ã‚«ãƒ©ã‚ªã‚±æœ€åˆã®1æ›²ææ¡ˆã‚¢ãƒ—ãƒª</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;700&display=swap');
        body {
            font-family: 'Noto Sans JP', sans-serif;
            background: linear-gradient(135deg, #fdfbfb 0%, #ebedee 100%);
        }
        .option-btn-active {
            background-color: #4f46e5 !important;
            color: white !important;
            border-color: #4f46e5 !important;
            box-shadow: 0 4px 6px -1px rgba(79, 70, 229, 0.4);
        }
        .card-enter {
            animation: slideUp 0.4s ease-out forwards;
        }
        @keyframes slideUp {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
    </style>
</head>
<body class="min-h-screen flex items-center justify-center p-4">

    <div class="bg-white p-6 sm:p-10 rounded-2xl shadow-xl w-full max-w-2xl">
        <header class="text-center mb-10">
            <h1 class="text-3xl font-bold text-gray-800 mb-2">ğŸ¤ ã‚«ãƒ©ã‚ªã‚±æœ€åˆã®ä¸€æ›²ãƒ¡ãƒ¼ã‚«ãƒ¼</h1>
            <p class="text-gray-500">ãƒ¡ãƒ³ãƒãƒ¼ã‚„æ°—åˆ†ã«åˆã‚ã›ã¦ã€æœ€é«˜ã®ã‚¹ã‚¿ãƒ¼ãƒˆã‚’åˆ‡ã‚Œã‚‹1æ›²ã‚’ææ¡ˆï¼</p>
        </header>

        <div class="space-y-8">
            <div>
                <label class="block text-sm font-bold text-gray-700 mb-3">1. æ­Œã†äººã®å£°åŸŸãƒ»æ€§åˆ¥</label>
                <div class="grid grid-cols-2 sm:grid-cols-4 gap-2">
                    <button type="button" class="option-btn border border-gray-200 py-2 px-3 rounded-lg text-sm transition-all hover:bg-gray-50" data-category="gender" data-value="any">æŒ‡å®šãªã—</button>
                    <button type="button" class="option-btn border border-gray-200 py-2 px-3 rounded-lg text-sm transition-all hover:bg-gray-50" data-category="gender" data-value="male">ç”·æ€§</button>
                    <button type="button" class="option-btn border border-gray-200 py-2 px-3 rounded-lg text-sm transition-all hover:bg-gray-50" data-category="gender" data-value="female">å¥³æ€§</button>
                    <button type="button" class="option-btn border border-gray-200 py-2 px-3 rounded-lg text-sm transition-all hover:bg-gray-50" data-category="gender" data-value="mixed">ç”·å¥³æ··åˆ</button>
                </div>
            </div>

            <div>
                <label class="block text-sm font-bold text-gray-700 mb-1">2. ã‚¿ãƒ¼ã‚²ãƒƒãƒˆä¸–ä»£ <span class="text-xs font-normal text-indigo-500">(è¤‡æ•°é¸æŠå¯)</span></label>
                <div class="grid grid-cols-3 sm:grid-cols-5 gap-2 mt-3">
                    <button type="button" class="option-btn border border-gray-200 py-2 px-3 rounded-lg text-sm transition-all hover:bg-gray-50" data-category="age" data-value="10s">10ä»£</button>
                    <button type="button" class="option-btn border border-gray-200 py-2 px-3 rounded-lg text-sm transition-all hover:bg-gray-50" data-category="age" data-value="20s">20ä»£</button>
                    <button type="button" class="option-btn border border-gray-200 py-2 px-3 rounded-lg text-sm transition-all hover:bg-gray-50" data-category="age" data-value="30s">30ä»£</button>
                    <button type="button" class="option-btn border border-gray-200 py-2 px-3 rounded-lg text-sm transition-all hover:bg-gray-50" data-category="age" data-value="40s">40ä»£</button>
                    <button type="button" class="option-btn border border-gray-200 py-2 px-3 rounded-lg text-sm transition-all hover:bg-gray-50" data-category="age" data-value="50s+">50ä»£+</button>
                </div>
            </div>

            <div>
                <label class="block text-sm font-bold text-gray-700 mb-3">3. é›£æ˜“åº¦ãƒ»é›°å›²æ°—</label>
                <div class="grid grid-cols-1 sm:grid-cols-3 gap-2">
                    <button type="button" class="option-btn border border-gray-200 py-2 px-3 rounded-lg text-sm transition-all hover:bg-gray-50" data-category="difficulty" data-value="easy">ç°¡å˜ (æ­Œã„ã‚„ã™ã„/å®šç•ª)</button>
                    <button type="button" class="option-btn border border-gray-200 py-2 px-3 rounded-lg text-sm transition-all hover:bg-gray-50" data-category="difficulty" data-value="normal">æ™®é€š (ç››ã‚Šä¸ŠãŒã‚‹)</button>
                    <button type="button" class="option-btn border border-gray-200 py-2 px-3 rounded-lg text-sm transition-all hover:bg-gray-50" data-category="difficulty" data-value="hard">é«˜é›£æ˜“åº¦ (èã‹ã›ãŸã„)</button>
                </div>
            </div>

            <button id="suggestBtn" class="w-full bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-4 rounded-xl shadow-lg transition-transform transform active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed">
                æ›²ã‚’ææ¡ˆã—ã¦ã‚‚ã‚‰ã†ï¼
            </button>
        </div>

        <div id="resultArea" class="mt-12 hidden card-enter">
            <h2 class="text-xl font-bold text-gray-800 mb-6 flex items-center">
                <span class="bg-indigo-100 text-indigo-600 p-2 rounded-lg mr-2">ğŸ¯</span> 
                ãŠã™ã™ã‚ã®æ¥½æ›²
            </h2>
            <div id="songList" class="space-y-4">
                </div>
            <p id="noResults" class="hidden text-center text-gray-500 py-10 bg-gray-50 rounded-xl">
                æ¡ä»¶ã«åˆã†æ›²ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“ã§ã—ãŸã€‚<br>æ¡ä»¶ã‚’å¤‰ãˆã¦ã¿ã¦ãã ã•ã„ï¼
            </p>
        </div>

        <div class="mt-10 text-center">
            <a href="https://docs.google.com/forms/d/e/1FAIpQLSfAnkMY3ayOjAB9GaFmOPLvgSoARxO7NDOj8XMovUR6rvmblA/viewform?usp=header" target="_blank" class="text-sm text-indigo-500 hover:text-indigo-700 underline transition-colors">
                ğŸ“ ãŠå•ã„åˆã‚ã›ãƒ»ã‚¢ãƒ³ã‚±ãƒ¼ãƒˆã¯ã“ã¡ã‚‰
            </a>
        </div>

    </div>

    <script>
        // Extended Song Database with Focus on Mixed Vocals
        const songDatabase = [
            // --- ç”·å¥³æ··åˆ / Mixed Vocals (Core Addition) ---
            { title: "æ‰“ä¸ŠèŠ±ç«", artist: "DAOKO Ã— ç±³æ´¥ç„å¸«", gender: "mixed", generations: ["10s", "20s", "30s"], difficulty: "normal" },
            { title: "å‹¿å¿˜", artist: "Awesome City Club", gender: "mixed", generations: ["20s", "30s"], difficulty: "normal" },
            { title: "ç‚¹æã®å”„", artist: "Mrs. GREEN APPLE (feat. äº•ä¸Šè‹‘å­)", gender: "mixed", generations: ["10s", "20s"], difficulty: "hard" },
            { title: "W/X/Y", artist: "Tani Yuuki", gender: "mixed", generations: ["10s", "20s"], difficulty: "normal" },
            { title: "å¤œã«é§†ã‘ã‚‹", artist: "YOASOBI", gender: "mixed", generations: ["10s", "20s", "30s"], difficulty: "hard" },
            { title: "RPG", artist: "SEKAI NO OWARI", gender: "mixed", generations: ["10s", "20s", "30s", "40s"], difficulty: "easy" },
            { title: "æ‹éŸ³ã¨é›¨ç©º", artist: "AAA", gender: "mixed", generations: ["10s", "20s", "30s"], difficulty: "normal" },
            { title: "AM11:00", artist: "HY", gender: "mixed", generations: ["20s", "30s", "40s"], difficulty: "easy" },
            { title: "å¤§ä¸æ­£è§£", artist: "back number", gender: "mixed", generations: ["10s", "20s", "30s"], difficulty: "normal" },
            { title: "æ˜æ—¥ã‚‚", artist: "SHISHAMO", gender: "mixed", generations: ["10s", "20s"], difficulty: "normal" },
            { title: "ã•ã‚ˆãªã‚‰ã®å‰ã«", artist: "AAA", gender: "mixed", generations: ["10s", "20s", "30s"], difficulty: "normal" },
            { title: "ãƒãƒƒãƒ”ãƒ¼ã‚¨ãƒ³ãƒ‰", artist: "back number", gender: "mixed", generations: ["10s", "20s", "30s"], difficulty: "normal" },
            { title: "æ²ˆä¸èŠ±", artist: "DISH//", gender: "mixed", generations: ["10s", "20s", "30s"], difficulty: "easy" },
            { title: "ãã°ã‹ã™", artist: "JUDY AND MARY", gender: "mixed", generations: ["30s", "40s", "50s+"], difficulty: "normal" },
            { title: "æ„›ã®ã—ã‚‹ã—", artist: "PUFFY", gender: "mixed", generations: ["30s", "40s", "50s+"], difficulty: "easy" },
            { title: "æ°—åˆ†ä¸Šã€…â†‘â†‘", artist: "mihimaru GT", gender: "mixed", generations: ["20s", "30s", "40s"], difficulty: "normal" },
            { title: "ä¸‰æ—¥æœˆ", artist: "çµ¢é¦™", gender: "mixed", generations: ["20s", "30s", "40s"], difficulty: "normal" },
            { title: "ã•ãã‚‰(ç‹¬å”±)", artist: "æ£®å±±ç›´å¤ªæœ—", gender: "mixed", generations: ["30s", "40s", "50s+"], difficulty: "normal" },
            { title: "ãƒ›ãƒ¼ãƒ«ãƒ»ãƒ‹ãƒ¥ãƒ¼ãƒ»ãƒ¯ãƒ¼ãƒ«ãƒ‰", artist: "ãƒ‡ã‚£ã‚ºãƒ‹ãƒ¼", gender: "mixed", generations: ["10s", "20s", "30s", "40s", "50s+"], difficulty: "normal" },
            { title: "ãƒ©ã‚¤ã‚ªãƒ³", artist: "May'n/ä¸­å³¶æ„›", gender: "mixed", generations: ["10s", "20s", "30s"], difficulty: "hard" },

            // --- ç”·æ€§ / Male ---
            { title: "ã‚¢ã‚¤ãƒ‰ãƒ«", artist: "YOASOBI", gender: "female", generations: ["10s", "20s"], difficulty: "hard" },
            { title: "æ€ªç£ã®èŠ±å”„", artist: "Vaundy", gender: "male", generations: ["10s", "20s", "30s"], difficulty: "normal" },
            { title: "ãƒãƒªãƒ¼ã‚´ãƒ¼ãƒ«ãƒ‰", artist: "ã‚ã„ã¿ã‚‡ã‚“", gender: "female", generations: ["10s", "20s", "30s", "40s"], difficulty: "easy" },
            { title: "Lemon", artist: "ç±³æ´¥ç„å¸«", gender: "male", generations: ["20s", "30s", "40s"], difficulty: "normal" },
            { title: "ãƒ‰ãƒ©ã‚¤ãƒ•ãƒ©ãƒ¯ãƒ¼", artist: "å„ªé‡Œ", gender: "male", generations: ["10s", "20s", "30s"], difficulty: "normal" },
            { title: "Subtitle", artist: "Officialé«­ç”·dism", gender: "male", generations: ["10s", "20s", "30s"], difficulty: "hard" },
            { title: "ã‚±ã‚»ãƒ©ã‚»ãƒ©", artist: "Mrs. GREEN APPLE", gender: "male", generations: ["10s", "20s", "30s"], difficulty: "hard" },
            { title: "å°ã•ãªæ‹ã®ã†ãŸ", artist: "MONGOL800", gender: "male", generations: ["10s", "20s", "30s", "40s", "50s+"], difficulty: "easy" },
            { title: "ã‚­ã‚»ã‚­", artist: "GReeeeN", gender: "male", generations: ["10s", "20s", "30s", "40s"], difficulty: "easy" },
            { title: "æ‹", artist: "æ˜Ÿé‡æº", gender: "male", generations: ["10s", "20s", "30s", "40s"], difficulty: "easy" },
            { title: "ä¸–ç•Œã«ä¸€ã¤ã ã‘ã®èŠ±", artist: "SMAP", gender: "male", generations: ["20s", "30s", "40s", "50s+"], difficulty: "easy" },
            { title: "å¤©ä½“è¦³æ¸¬", artist: "BUMP OF CHICKEN", gender: "male", generations: ["20s", "30s", "40s"], difficulty: "normal" },
            { title: "å¥³ã€…ã—ãã¦", artist: "ã‚´ãƒ¼ãƒ«ãƒ‡ãƒ³ãƒœãƒ³ãƒãƒ¼", gender: "male", generations: ["10s", "20s", "30s", "40s"], difficulty: "easy" },
            { title: "TSUNAMI", artist: "ã‚µã‚¶ãƒ³ã‚ªãƒ¼ãƒ«ã‚¹ã‚¿ãƒ¼ã‚º", gender: "male", generations: ["40s", "50s+"], difficulty: "easy" },
            { title: "ãƒªãƒ³ãƒ€ãƒªãƒ³ãƒ€", artist: "THE BLUE HEARTS", gender: "male", generations: ["30s", "40s", "50s+"], difficulty: "easy" },
            { title: "Pretender", artist: "Officialé«­ç”·dism", gender: "male", generations: ["10s", "20s", "30s"], difficulty: "hard" },
            { title: "è™¹", artist: "è…ç”°å°†æš‰", gender: "male", generations: ["10s", "20s", "30s"], difficulty: "easy" },
            { title: "å‹æ‰‹ã«ã‚·ãƒ³ãƒ‰ãƒãƒƒãƒ‰", artist: "ã‚µã‚¶ãƒ³ã‚ªãƒ¼ãƒ«ã‚¹ã‚¿ãƒ¼ã‚º", gender: "male", generations: ["40s", "50s+"], difficulty: "normal" },

            // --- å¥³æ€§ / Female ---
            { title: "æ®‹é…·ãªå¤©ä½¿ã®ãƒ†ãƒ¼ã‚¼", artist: "é«˜æ©‹æ´‹å­", gender: "female", generations: ["20s", "30s", "40s", "50s+"], difficulty: "normal" },
            { title: "æ–°æ™‚ä»£", artist: "Ado", gender: "female", generations: ["10s", "20s"], difficulty: "hard" },
            { title: "å¯æ„›ãã¦ã”ã‚ã‚“", artist: "HoneyWorks", gender: "female", generations: ["10s", "20s"], difficulty: "easy" },
            { title: "å”±", artist: "Ado", gender: "female", generations: ["10s", "20s"], difficulty: "hard" },
            { title: "è² ã‘ãªã„ã§", artist: "ZARD", gender: "female", generations: ["30s", "40s", "50s+"], difficulty: "easy" },
            { title: "ãƒãƒŠãƒŸã‚ºã‚­", artist: "ä¸€é’çªˆ", gender: "female", generations: ["30s", "40s", "50s+"], difficulty: "easy" },
            { title: "ç³¸", artist: "ä¸­å³¶ã¿ã‚†ã", gender: "female", generations: ["30s", "40s", "50s+"], difficulty: "easy" },
            { title: "ä¸‰ç™¾å…­åäº”æ­©ã®ãƒãƒ¼ãƒ", artist: "æ°´å‰å¯ºæ¸…å­", gender: "female", generations: ["50s+"], difficulty: "easy" },
            { title: "æ„›ã‚’ã“ã‚ã¦èŠ±æŸã‚’", artist: "Superfly", gender: "female", generations: ["20s", "30s", "40s"], difficulty: "hard" },
            { title: "ã‚«ãƒ–ãƒˆãƒ ã‚·", artist: "aiko", gender: "female", generations: ["20s", "30s", "40s"], difficulty: "hard" },
            { title: "èµ¤ã„ã‚¹ã‚¤ãƒ¼ãƒˆãƒ”ãƒ¼", artist: "æ¾ç”°è–å­", gender: "female", generations: ["40s", "50s+"], difficulty: "easy" }
        ];

        // State Management
        const state = {
            gender: null,
            age: [],
            difficulty: null
        };

        // DOM Elements
        const optionBtns = document.querySelectorAll('.option-btn');
        const suggestBtn = document.getElementById('suggestBtn');
        const resultArea = document.getElementById('resultArea');
        const songList = document.getElementById('songList');
        const noResults = document.getElementById('noResults');

        // Button Click Handling
        optionBtns.forEach(btn => {
            btn.addEventListener('click', () => {
                const category = btn.dataset.category;
                const value = btn.dataset.value;

                if (category === 'age') {
                    // Multi-select for age
                    if (state.age.includes(value)) {
                        state.age = state.age.filter(v => v !== value);
                        btn.classList.remove('option-btn-active');
                    } else {
                        state.age.push(value);
                        btn.classList.add('option-btn-active');
                    }
                } else {
                    // Single-select for gender and difficulty
                    document.querySelectorAll(`.option-btn[data-category="${category}"]`).forEach(b => {
                        b.classList.remove('option-btn-active');
                    });
                    state[category] = value;
                    btn.classList.add('option-btn-active');
                }
                
                // Update suggest button state
                updateSuggestBtn();
            });
        });

        function updateSuggestBtn() {
            const isReady = state.gender !== null && state.difficulty !== null;
            suggestBtn.disabled = !isReady;
        }

        suggestBtn.addEventListener('click', () => {
            renderSuggestions();
        });

        function renderSuggestions() {
            // Filter Logic
            const filtered = songDatabase.filter(song => {
                // Gender Match Logic
                let genderMatch = false;
                if (state.gender === 'any') {
                    genderMatch = true;
                } else if (state.gender === 'mixed') {
                    genderMatch = song.gender === 'mixed';
                } else {
                    genderMatch = song.gender === state.gender || song.gender === 'mixed';
                }

                const difficultyMatch = song.difficulty === state.difficulty;
                
                // Age match
                const ageMatch = state.age.length === 0 || 
                                 state.age.some(a => song.generations.includes(a));

                return genderMatch && difficultyMatch && ageMatch;
            });

            // Shuffle and Pick 5
            const shuffled = filtered.sort(() => 0.5 - Math.random());
            const selected = shuffled.slice(0, 5);

            // Display Logic
            resultArea.classList.remove('hidden');
            songList.innerHTML = '';
            
            if (selected.length === 0) {
                noResults.classList.remove('hidden');
            } else {
                noResults.classList.add('hidden');
                selected.forEach((song, index) => {
                    const div = document.createElement('div');
                    div.className = "flex items-center p-4 bg-gray-50 rounded-xl hover:bg-indigo-50 transition-colors border border-transparent hover:border-indigo-200 group card-enter";
                    div.style.animationDelay = `${index * 0.1}s`;
                    div.innerHTML = `
                        <div class="w-8 h-8 flex items-center justify-center bg-white text-indigo-600 font-bold rounded-full mr-4 shadow-sm group-hover:bg-indigo-600 group-hover:text-white transition-colors">
                            ${index + 1}
                        </div>
                        <div class="flex-1">
                            <h3 class="font-bold text-gray-800">${song.title}</h3>
                            <p class="text-sm text-gray-500">${song.artist}</p>
                        </div>
                        <div class="text-xs font-semibold px-2 py-1 bg-white border border-gray-200 rounded text-gray-400">
                            ${song.gender === 'male' ? 'â™‚ï¸' : (song.gender === 'female' ? 'â™€ï¸' : 'ğŸ‘« ç”·å¥³')}
                        </div>
                    `;
                    songList.appendChild(div);
                });
            }
            
            // Scroll to result
            resultArea.scrollIntoView({ behavior: 'smooth' });
        }
    </script>
</body>
</html>
